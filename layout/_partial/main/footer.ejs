<%
const content = theme.footer.content?.replace('${author.name}', (config.author || 'Anonymity'))?.replace('${theme.name}', stellar_info('name'))?.replace('${theme.version}', stellar_info('version'))?.replace('${theme.tree}', stellar_info('tree'))
const language = page_language();
function layoutDiv() {
  if (!theme.footer.sitemap && !theme.footer.content) {
    return ''
  }
  var el = ''
  el += '<footer class="page-footer reveal fs12">'
  el += '<hr>'
  // sitemap
  if (theme.footer.sitemap && Object.keys(theme.footer.sitemap).length > 0) {
    el += '<div class="sitemap">'
    for (let group of Object.keys(theme.footer.sitemap)) {
      let items = theme.footer.sitemap[group]
      if (items == undefined || items.length == 0) {
        continue
      }
      el += '<div class="sitemap-group">'
      el += '<span class="fs14">' + __(md_text(group)) + '</span>'
      items.forEach((item, i) => {
        el += '<a href="' + url_for(url_i18n_path(!is_default_language(language) ? language : null, md_link(item))) + '">';
        el += __(md_text(item))
        el += '</a>'
      });
      el += '</div>'
    }
    el += '</div>'
  }
  // footer
  el += '<div class="text">'
  if (content) {
    el += markdown(__(md_text(content)))
  }
  el += '</div></footer>'
  return el
}
%>
<%- layoutDiv() %>